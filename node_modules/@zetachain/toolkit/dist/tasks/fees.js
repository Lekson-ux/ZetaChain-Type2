"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.feesTask = void 0;
const config_1 = require("hardhat/config");
const fees_1 = require("../helpers/fees");
const main = async (args, hre) => {
    const fees = await (0, fees_1.fetchFees)(args.gas);
    if (args.json) {
        console.log(JSON.stringify(fees, null, 2));
    }
    else {
        console.log("\nOmnichain fees (in native gas tokens of destination chain):");
        console.table(fees.feesZEVM);
        console.log(`\nCross-chain messaging fees (in ZETA, gas limit: ${args.gas}):`);
        console.table(fees.feesCCM);
    }
};
exports.feesTask = (0, config_1.task)("fees", "Show omnichain and cross-chain messaging fees", main)
    .addOptionalParam("gas", "Gas limit for a cross-chain messaging transaction", 500000, config_1.types.int)
    .addFlag("json", "Print the result in JSON format");
